---
layout: page
title: anvi-refine [program]
categories: [anvio]
comments: false
redirect_from: /m/anvi-refine
image:
  featurerelative: ../../../images/header.png
  display: true
---

Start an anvi&#x27;o interactive interactive to manually curate or refine a genome, whether it is a metagenome-assembled, single-cell, or an isolate genome.

ðŸ”™ **[To the main page](../../)** of anvi'o programs and artifacts.


{% include _toc.html %}
<div id="svg" class="subnetwork"></div>
{% capture network_path %}{{ "network.json" }}{% endcapture %}
{% capture network_height %}{{ 300 }}{% endcapture %}
{% include _project-anvio-graph.html %}


## Authors

<div class="page-author"><div class="page-author-info"><div class="page-person-photo"><img class="page-person-photo-img" src="../../images/authors/meren.jpg" /></div><div class="page-person-info-box"><span class="page-author-name">A. Murat Eren (Meren)</span><div class="page-author-social-box"><a href="http://meren.org" class="person-social" target="_blank"><i class="fa fa-fw fa-home"></i>Web</a><a href="mailto:a.murat.eren@gmail.com" class="person-social" target="_blank"><i class="fa fa-fw fa-envelope-square"></i>Email</a><a href="http://twitter.com/merenbey" class="person-social" target="_blank"><i class="fa fa-fw fa-twitter-square"></i>Twitter</a><a href="http://github.com/meren" class="person-social" target="_blank"><i class="fa fa-fw fa-github"></i>Github</a></div></div></div></div>

<div class="page-author"><div class="page-author-info"><div class="page-person-photo"><img class="page-person-photo-img" src="../../images/authors/no-avatar.png" /></div><div class="page-person-info-box"><span class="page-author-name">Daniel Blankenberg</span><div class="page-author-social-box"><a href="mailto:blanked2@ccf.org" class="person-social" target="_blank"><i class="fa fa-fw fa-envelope-square"></i>Email</a><a href="http://github.com/blankenberg" class="person-social" target="_blank"><i class="fa fa-fw fa-github"></i>Github</a></div></div></div></div>



## Can consume


<p style="text-align: left" markdown="1"><span class="artifact-r">[profile-db](../../artifacts/profile-db) <img src="../../images/icons/DB.png" class="artifact-icon-mini" /></span> <span class="artifact-r">[contigs-db](../../artifacts/contigs-db) <img src="../../images/icons/DB.png" class="artifact-icon-mini" /></span> <span class="artifact-r">[bin](../../artifacts/bin) <img src="../../images/icons/BIN.png" class="artifact-icon-mini" /></span></p>


## Can provide


<p style="text-align: left" markdown="1"><span class="artifact-p">[bin](../../artifacts/bin) <img src="../../images/icons/BIN.png" class="artifact-icon-mini" /></span></p>


## Usage


This program **opens the anvi'o interactive interface** to let the user **refine what contigs are contained in a specific <span class="artifact-n">[bin](/software/anvio/help/main/artifacts/bin)</span> or manually split one bin into several.**

In the <span class="artifact-n">[interactive](/software/anvio/help/main/artifacts/interactive)</span> interface, any bins that you create will overwrite the bin that you originally opened.  If you don't provide any names, the new bins' titles will be prefixed with the name of the original bin, so that bin will continue to live on in spirit. 

Essentially, it is like running <span class="artifact-n">[anvi-interactive](/software/anvio/help/main/programs/anvi-interactive)</span>, but disposing of the original bin when you're done. 

### Potential Use Cases 

There are several reasons you might want to use anvi-refine: 

- Your dataset is just really big. 

    This process has its own [dedicated blog post](http://merenlab.org/2015/05/11/anvi-refine/), but, in short, the interactive interface and analysis, like all things, has its limits. Instead of trying to actively analyze all of your data at once, which will be very computationally heavy and might limit the types of analysis you'll even be able to do, it will be helpful to split your data into several smaller bins first. Then you can use anvi-refine on each one to replace those temporary bins with your final bins. 
    
- You want to refine a bin generated by automated binning software.   
    
    After automated binning (which you can do in anvi'o with <span class="artifact-n">[anvi-cluster-contigs](/software/anvio/help/main/programs/anvi-cluster-contigs)</span>), you might see an awkward bin or two. These programs often have difficultly separating bins in some scenarios, as well as sorting out prophages, mobile genetic elements, and other things that you might want to have in their own bin. You can take these out of your MAGs and put them in their own bins, split bins with high redundency, or just refine them in any way you please, using anvi-refine. 
    
- You're just not happy with one of your bins. 
    
    Happens to everyone. Maybe the redundency is just a little too high and you want to take a closer look, or maybe you just want to split up two contigs giving you different taxonomy results. Feel free to go in and take specfic contigs out or split one bin into several. 
    
If you just want to look at the contents of partiuclarly glorious bin, you should probably just use <span class="artifact-n">[anvi-interactive](/software/anvio/help/main/programs/anvi-interactive)</span> for that, since you don't want to risk overwriting your bin. 


{:.notice}
Edit [this file](https://github.com/merenlab/anvio/tree/master/anvio/docs/programs/anvi-refine.md) to update this information.


## Additional Resources


* [Refining a bin](http://merenlab.org/2015/05/11/anvi-refine/)

* [Notes on genome refinement](http://merenlab.org/2017/05/11/anvi-refine-by-veronika/)

* [A case study: Inspecting the genomic link between Archaea and Eukaryota](http://merenlab.org/2017/01/03/loki-the-link-archaea-eukaryota/)

* [As part of the metagenomic workflow](http://merenlab.org/2016/06/22/anvio-tutorial-v2/#anvi-refine)

* [A demo](https://www.youtube.com/watch?v=vXPKP5vKiBM)


{:.notice}
Are you aware of resources that may help users better understand the utility of this program? Please feel free to edit [this file](https://github.com/merenlab/anvio/tree/master/bin/anvi-refine) on GitHub. If you are not sure how to do that, find the `__resources__` tag in [this file](https://github.com/merenlab/anvio/blob/master/bin/anvi-interactive) to see an example.
